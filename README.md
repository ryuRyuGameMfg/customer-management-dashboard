# 顧客管理ダッシュボード

📊 Unity開発サービス向けの顧客管理を効率化する Next.js + Tailwind CSS ベースのアプリケーションです。Markdown で管理している顧客表とテンプレートを読み込み、ブラウザ上でフィルター・ソート・テンプレートコピーを行えます。

## プロジェクト構成

```
04 顧客管理/
├── index.html                # 旧版（プレーンHTML版ビューア）
├── 顧客管理データ.md          # 顧客データ（Markdownテーブル）
├── メッセージテンプレート.md    # テンプレート原本（JSONコードブロック）
├── next-app/                # Next.js + Tailwind 最新実装
└── README.md
```

> 旧 `index.html` は参照用として残しています。今後の運用は `next-app` 配下のNext.js実装を利用してください。

## セットアップ

```bash
cd "04 顧客管理/next-app"
npm install
```

### 開発サーバーの起動

```bash
npm run dev -- --port 4001
```

ブラウザで `http://localhost:4001` にアクセスするとダッシュボードが表示されます。自社名・担当者名・資料URLはローカルストレージに保存され、メッセージコピー時に自動で差し込まれます。

## 主な機能

- Markdownテーブルから顧客一覧を読み込み、列ごとのソート・全文検索・アクション別フィルターに対応
- テンプレートJSONを解析し、顧客の取引状況に応じた文面を自動選択
- コピー操作でクリップボードへ転送し、直近コピー内容をプレビュー表示
- 総顧客数 / 総売上 / 要対応顧客数 / 主要アクションをリアルタイム集計
- Tailwind CSS によるレスポンシブなレイアウトとダークUI
- ブラウザ上で顧客情報を直接編集・保存可能（保存時に `顧客管理データ.md` と `public/data/customers.md` を自動更新）
- 性別・年齢・取引回数はプルダウン選択、日付はカレンダー入力で簡単に更新可能

## データ更新手順

1. `顧客管理データ.md` のテーブルを更新（列構成はそのまま維持）
2. `メッセージテンプレート.md` のJSONコードブロックを編集するとテンプレートが差し替わります
3. Next.js アプリを再起動すると最新内容が反映されます

> Markdownファイルは `next-app/public/data/` にコピーされています。データの唯一の更新元はルート直下の Markdown とし、必要に応じて再コピーしてください。

## スクリプト一覧

| コマンド | 用途 |
| --- | --- |
| `npm run dev -- --port 4001` | 開発サーバー起動（ポート4001） |
| `npm run lint` | ESLint チェック |
| `npm run build` | 本番ビルド（静的書き出しにも対応） |

## ライセンス / サポート

- プロジェクトは社内利用を想定しており外部配布は行っていません。
- ご不明点や改善アイデアは `04 顧客管理` フォルダのノートに追記するか、開発担当まで共有してください。

> **メモ:** ブラウザでの編集保存機能は Next.js の API Route（`/api/customers`）経由で Markdown ファイルを書き換えています。新規で API ファイルを追加したため、サーバーを一度停止して再起動すると確実です。

---

**ビジネスの状況に合わせてテンプレートを整備し、アプローチを仕組み化しましょう！**